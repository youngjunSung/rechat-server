"use strict";(self.webpackChunksleact_ts_front=self.webpackChunksleact_ts_front||[]).push([[41],{23041:(e,t,r)=>{r.d(t,{Ay:()=>c});var n=r(96540),a=r(19888),s=r(14993);const i=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),u={dedupe:!0};s.qv.defineProperty(s.BE,"defaultValue",{value:s.sb});const l=(0,s.qm)(((e,t,r)=>{const{cache:l,compare:o,suspense:c,fallbackData:d,revalidateOnMount:f,revalidateIfStale:b,refreshInterval:g,refreshWhenHidden:E,refreshWhenOffline:_,keepPreviousData:h}=r,[v,p,R,V]=s.bZ.get(l),[m,k]=(0,s.lK)(e),T=(0,n.useRef)(!1),y=(0,n.useRef)(!1),w=(0,n.useRef)(m),O=(0,n.useRef)(t),C=(0,n.useRef)(r),L=()=>C.current,S=()=>L().isVisible()&&L().isOnline(),[P,D,A,H]=(0,s.r9)(l,m),N=(0,n.useRef)({}).current,Z=(0,s.b0)(d)?r.fallback[m]:d,F=(e,t)=>{for(const r in N){const n=r;if("data"===n){if(!o(e[n],t[n])){if(!(0,s.b0)(e[n]))return!1;if(!o(W,t[n]))return!1}}else if(t[n]!==e[n])return!1}return!0},I=(0,n.useMemo)((()=>{const e=!!m&&!!t&&((0,s.b0)(f)?!L().isPaused()&&!c&&(!!(0,s.b0)(b)||b):f),r=t=>{const r=(0,s.rL)(t);return delete r._k,e?{isValidating:!0,isLoading:!0,...r}:r},n=P(),a=H(),i=r(n),u=n===a?i:r(a);let l=i;return[()=>{const e=r(P());return F(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>u]}),[l,m]),q=(0,a.useSyncExternalStore)((0,n.useCallback)((e=>A(m,((t,r)=>{F(r,t)||e()}))),[l,m]),I[0],I[1]),z=!T.current,K=v[m]&&v[m].length>0,M=q.data,j=(0,s.b0)(M)?Z:M,x=q.error,U=(0,n.useRef)(j),W=h?(0,s.b0)(M)?U.current:M:j,X=!(K&&!(0,s.b0)(x))&&(z&&!(0,s.b0)(f)?f:!L().isPaused()&&(c?!(0,s.b0)(j)&&b:(0,s.b0)(j)||b)),B=!!(m&&t&&z&&X),G=(0,s.b0)(q.isValidating)?B:q.isValidating,J=(0,s.b0)(q.isLoading)?B:q.isLoading,Q=(0,n.useCallback)((async e=>{const t=O.current;if(!m||!t||y.current||L().isPaused())return!1;let n,a,i=!0;const u=e||{},l=!R[m]||!u.dedupe,c=()=>s.dO?!y.current&&m===w.current&&T.current:m===w.current,d={isValidating:!1,isLoading:!1},f=()=>{D(d)},b=()=>{const e=R[m];e&&e[1]===a&&delete R[m]},g={isValidating:!0};(0,s.b0)(P().data)&&(g.isLoading=!0);try{if(l&&(D(g),r.loadingTimeout&&(0,s.b0)(P().data)&&setTimeout((()=>{i&&c()&&L().onLoadingSlow(m,r)}),r.loadingTimeout),R[m]=[t(k),(0,s.lg)()]),[n,a]=R[m],n=await n,l&&setTimeout(b,r.dedupingInterval),!R[m]||R[m][1]!==a)return l&&c()&&L().onDiscarded(m),!1;d.error=s.ZH;const e=p[m];if(!(0,s.b0)(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return f(),l&&c()&&L().onDiscarded(m),!1;const u=P().data;d.data=o(u,n)?u:n,l&&c()&&L().onSuccess(n,m,r)}catch(e){b();const t=L(),{shouldRetryOnError:r}=t;t.isPaused()||(d.error=e,l&&c()&&(t.onError(e,m,t),(!0===r||(0,s.Tn)(r)&&r(e))&&(L().revalidateOnFocus&&L().revalidateOnReconnect&&!S()||t.onErrorRetry(e,m,t,(e=>{const t=v[m];t&&t[0]&&t[0](s.bu.ERROR_REVALIDATE_EVENT,e)}),{retryCount:(u.retryCount||0)+1,dedupe:!0}))))}return i=!1,f(),!0}),[m,l]),Y=(0,n.useCallback)(((...e)=>(0,s.mF)(l,w.current,...e)),[]);if((0,s.Es)((()=>{O.current=t,C.current=r,(0,s.b0)(M)||(U.current=M)})),(0,s.Es)((()=>{if(!m)return;const e=Q.bind(s.ZH,u);let t=0;const r=(0,s.aw)(m,v,((r,n={})=>{if(r==s.bu.FOCUS_EVENT){const r=Date.now();L().revalidateOnFocus&&r>t&&S()&&(t=r+L().focusThrottleInterval,e())}else if(r==s.bu.RECONNECT_EVENT)L().revalidateOnReconnect&&S()&&e();else{if(r==s.bu.MUTATE_EVENT)return Q();if(r==s.bu.ERROR_REVALIDATE_EVENT)return Q(n)}}));return y.current=!1,w.current=m,T.current=!0,D({_k:k}),X&&((0,s.b0)(j)||s.X3?e():(0,s.mf)(e)),()=>{y.current=!0,r()}}),[m]),(0,s.Es)((()=>{let e;function t(){const t=(0,s.Tn)(g)?g(P().data):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){P().error||!E&&!L().isVisible()||!_&&!L().isOnline()?t():Q(u).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[g,E,_,m]),(0,n.useDebugValue)(W),c&&(0,s.b0)(j)&&m){if(!s.dO&&s.X3)throw new Error("Fallback data is required when using suspense in SSR.");O.current=t,C.current=r,y.current=!1;const e=V[m];if(!(0,s.b0)(e)){const t=Y(e);i(t)}if(!(0,s.b0)(x))throw x;{const e=Q(u);(0,s.b0)(W)||(e.status="fulfilled",e.value=!0),i(e)}}return{mutate:Y,get data(){return N.data=!0,W},get error(){return N.error=!0,x},get isValidating(){return N.isValidating=!0,G},get isLoading(){return N.isLoading=!0,J}}})),o=Promise.resolve(),c=(0,s.Ht)(l,(e=>(t,r,i)=>{const u=(0,n.useRef)(!1),{cache:l,initialSize:c=1,revalidateAll:d=!1,persistSize:f=!1,revalidateFirstPage:b=!0,revalidateOnMount:g=!1,parallel:E=!1}=i,[,,,_]=s.bZ.get(s.PP);let h;try{h=(e=>(0,s.lK)(e?e(0,null):null)[0])(t),h&&(h=s.q9+h)}catch(e){}const[v,p,R]=(0,s.r9)(l,h),V=(0,n.useCallback)((()=>(0,s.b0)(v()._l)?c:v()._l),[l,h,c]);(0,a.useSyncExternalStore)((0,n.useCallback)((e=>h?R(h,(()=>{e()})):()=>{}),[l,h]),V,V);const m=(0,n.useCallback)((()=>{const e=v()._l;return(0,s.b0)(e)?c:e}),[h,c]),k=(0,n.useRef)(m());(0,s.Es)((()=>{u.current?h&&p({_l:f?k.current:m()}):u.current=!0}),[h,l]);const T=g&&!u.current,y=e(h,(async e=>{const n=v()._i,a=v()._r;p({_r:s.ZH});const u=[],o=m(),[c]=(0,s.r9)(l,e),f=c().data,g=[];let h=null;for(let e=0;e<o;++e){const[o,c]=(0,s.lK)(t(e,E?null:h));if(!o)break;const[v,p]=(0,s.r9)(l,o);let R=v().data;const V=d||n||(0,s.b0)(R)||b&&!e&&!(0,s.b0)(f)||T||f&&!(0,s.b0)(f[e])&&!i.compare(f[e],R);if(r&&("function"==typeof a?a(R,c):V)){const t=async()=>{if(o in _){const e=_[o];delete _[o],R=await e}else R=await r(c);p({data:R,_k:c}),u[e]=R};E?g.push(t):await t()}else u[e]=R;E||(h=R)}return E&&await Promise.all(g.map((e=>e()))),p({_i:s.ZH}),u}),i),w=(0,n.useCallback)((function(e,t){const r="boolean"==typeof t?{revalidate:t}:t||{},n=!1!==r.revalidate;return h?(n&&((0,s.b0)(e)?p({_i:!0,_r:r.revalidate}):p({_i:!1,_r:r.revalidate})),arguments.length?y.mutate(e,{...r,revalidate:n}):y.mutate()):o}),[h,l]),O=(0,n.useCallback)((e=>{if(!h)return o;const[,r]=(0,s.r9)(l,h);let n;if((0,s.Tn)(e)?n=e(m()):"number"==typeof e&&(n=e),"number"!=typeof n)return o;r({_l:n}),k.current=n;const a=[],[i]=(0,s.r9)(l,h);let u=null;for(let e=0;e<n;++e){const[r]=(0,s.lK)(t(e,u)),[n]=(0,s.r9)(l,r),o=r?n().data:s.ZH;if((0,s.b0)(o))return w(i().data);a.push(o),u=o}return w(a)}),[h,l,w,m]);return{size:m(),setSize:O,mutate:w,get data(){return y.data},get error(){return y.error},get isValidating(){return y.isValidating},get isLoading(){return y.isLoading}}}))}}]);